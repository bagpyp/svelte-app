import{s as lt,v as ut,p as dt,g as f,l as M,c as N,h as p,i as y,m as B,d as R,z as rt,k as h,E as mt,w as st}from"../chunks/scheduler.fd6e2bc0.js";import{S as ft,i as pt,d as it,v as ht,e as w,g as b,a as bt,n as r,s as G,q as vt}from"../chunks/index.f16fb1b7.js";import{p as K}from"../chunks/stores.f8c1292f.js";import{p as _t}from"../chunks/parse.bee59afc.js";import{j as gt,k as wt}from"../chunks/singletons.11457437.js";const Et=gt("invalidate_all");function yt(t){return wt.apply_action(t)}function xt(t){const e=JSON.parse(t);return e.data&&(e.data=_t(e.data)),e}function z(t,e,i){console.warn(`\`${t}\` has been deprecated in favor of \`${e}\`. \`${t}\` will be removed in a future version. (Called from ${i})`)}function I(t){return HTMLElement.prototype.cloneNode.call(t)}function ct(t,e=()=>{}){if(I(t).method!=="post")throw new Error('use:enhance can only be used on <form> fields with method="POST"');const i=async({action:o,result:m,reset:s})=>{m.type==="success"&&(s!==!1&&HTMLFormElement.prototype.reset.call(t),await Et()),(location.origin+location.pathname===o.origin+o.pathname||m.type==="redirect"||m.type==="error")&&yt(m)};async function _(o){var P,k,L,d;if(((P=o.submitter)!=null&&P.hasAttribute("formmethod")?o.submitter.formMethod:I(t).method)!=="post")return;o.preventDefault();const s=new URL((k=o.submitter)!=null&&k.hasAttribute("formaction")?o.submitter.formAction:I(t).action),u=new FormData(t);if(I(t).enctype!=="multipart/form-data"){for(const n of u.values())if(n instanceof File){console.warn('Your form contains <input type="file"> fields, but is missing the `enctype="multipart/form-data"` attribute. This will lead to inconsistent behavior between enhanced and native forms. For more details, see https://github.com/sveltejs/kit/issues/9819. This will be upgraded to an error in v2.0.');break}}const a=(L=o.submitter)==null?void 0:L.getAttribute("name");a&&u.append(a,((d=o.submitter)==null?void 0:d.getAttribute("value"))??"");const S=new AbortController;let x=!1;const O=await e({action:s,cancel:()=>x=!0,controller:S,get data(){return z("data","formData","use:enhance submit function"),u},formData:u,get form(){return z("form","formElement","use:enhance submit function"),t},formElement:t,submitter:o.submitter})??i;if(x)return;let l;try{const n=await fetch(s,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:u,signal:S.signal});l=xt(await n.text()),l.type==="error"&&(l.status=n.status)}catch(n){if((n==null?void 0:n.name)==="AbortError")return;l={type:"error",error:n}}O({action:s,get data(){return z("data","formData","callback returned from use:enhance submit function"),u},formData:u,get form(){return z("form","formElement","callback returned from use:enhance submit function"),t},formElement:t,update:n=>i({action:s,result:l,reset:n==null?void 0:n.reset}),result:l})}return HTMLFormElement.prototype.addEventListener.call(t,"submit",_),{destroy(){HTMLFormElement.prototype.removeEventListener.call(t,"submit",_)}}}const v="src/routes/[username]/bio/+page.svelte";function Q(t){var et;let e,i,_,o,m=t[0].bio+"",s,u,a,S,x=t[1].status+"",D,O,l,P=(((et=t[1].form)==null?void 0:et.problem)??"")+"",k,L,d,n,A,C,W="Your bio",Y,E,H,J,T,Z="Update Bio",V,$;const tt={c:function(){e=f("main"),i=f("p"),_=M("Current Bio: "),o=f("span"),s=M(m),u=N(),a=f("p"),S=M("Status Code: "),D=M(x),O=N(),l=f("p"),k=M(P),L=N(),d=f("form"),n=f("div"),A=f("label"),C=f("span"),C.textContent=W,Y=N(),E=f("textarea"),J=N(),T=f("button"),T.textContent=Z,this.h()},l:function(g){e=p(g,"MAIN",{class:!0});var c=y(e);i=p(c,"P",{});var j=y(i);_=B(j,"Current Bio: "),o=p(j,"SPAN",{class:!0});var at=y(o);s=B(at,m),at.forEach(w),j.forEach(w),u=R(c),a=p(c,"P",{});var X=y(a);S=B(X,"Status Code: "),D=B(X,x),X.forEach(w),O=R(c),l=p(c,"P",{class:!0});var nt=y(l);k=B(nt,P),nt.forEach(w),L=R(c),d=p(c,"FORM",{method:!0});var q=y(d);n=p(q,"DIV",{class:!0});var U=y(n);A=p(U,"LABEL",{for:!0,class:!0});var ot=y(A);C=p(ot,"SPAN",{class:!0,"data-svelte-h":!0}),rt(C)!=="svelte-270kv4"&&(C.textContent=W),ot.forEach(w),Y=R(U),E=p(U,"TEXTAREA",{name:!0,class:!0}),y(E).forEach(w),U.forEach(w),J=R(q),T=p(q,"BUTTON",{class:!0,"data-svelte-h":!0}),rt(T)!=="svelte-tqnit3"&&(T.textContent=Z),q.forEach(w),c.forEach(w),this.h()},h:function(){b(o,"class","text-info"),h(o,v,13,20,201),h(i,v,13,4,185),h(a,v,15,4,254),b(l,"class","text-error"),h(l,v,16,4,293),b(C,"class","label-text"),h(C,v,21,10,470),b(A,"for","bio"),b(A,"class","label"),h(A,v,20,8,428),b(E,"name","bio"),b(E,"class","textarea textarea-bordered textarea-accent"),E.value=H=t[0].bio,h(E,v,23,8,536),b(n,"class","form-control"),h(n,v,19,6,393),b(T,"class","btn btn-primary my-5"),h(T,v,29,6,685),b(d,"method","POST"),h(d,v,18,4,354),b(e,"class","max-w-lg prose text-center mx-auto my-6"),h(e,v,11,0,123)},m:function(g,c){bt(g,e,c),r(e,i),r(i,_),r(i,o),r(o,s),r(e,u),r(e,a),r(a,S),r(a,D),r(e,O),r(e,l),r(l,k),r(e,L),r(e,d),r(d,n),r(n,A),r(A,C),r(n,Y),r(n,E),r(d,J),r(d,T),V||($=mt(ct.call(null,d)),V=!0)},p:function(g,[c]){var j;c&1&&m!==(m=g[0].bio+"")&&G(s,m),c&2&&x!==(x=g[1].status+"")&&G(D,x),c&2&&P!==(P=(((j=g[1].form)==null?void 0:j.problem)??"")+"")&&G(k,P),c&1&&H!==(H=g[0].bio)&&vt(E,"value",H)},i:st,o:st,d:function(g){g&&w(e),V=!1,$()}};return it("SvelteRegisterBlock",{block:tt,id:Q.name,type:"component",source:"",ctx:t}),tt}function Pt(t,e,i){let _;ut(K,"page"),dt(t,K,a=>i(1,_=a));let{$$slots:o={},$$scope:m}=e;ht("Page",o,[]);let{data:s}=e;t.$$.on_mount.push(function(){s===void 0&&!("data"in e||t.$$.bound[t.$$.props.data])&&console.warn("<Page> was created without expected prop 'data'")});const u=["data"];return Object.keys(e).forEach(a=>{!~u.indexOf(a)&&a.slice(0,2)!=="$$"&&a!=="slot"&&console.warn(`<Page> was created with unknown prop '${a}'`)}),t.$$set=a=>{"data"in a&&i(0,s=a.data)},t.$capture_state=()=>({page:K,enhance:ct,data:s,$page:_}),t.$inject_state=a=>{"data"in a&&i(0,s=a.data)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[s,_]}class Lt extends ft{constructor(e){super(e),pt(this,e,Pt,Q,lt,{data:0}),it("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:Q.name})}get data(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Lt as component};
