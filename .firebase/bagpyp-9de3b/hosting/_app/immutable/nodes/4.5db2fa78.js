import{_ as ne,R as ae,k as se,b as oe,d as re,c as le}from"../chunks/firebase.652e1d27.js";import{e as V}from"../chunks/index.45d3a67f.js";import{s as ie,C as ce,g as P,c as x,l as A,B as ue,h as R,d as q,i as B,m as D,k as L,D as W,E as me}from"../chunks/scheduler.279f2f81.js";import{S as de,i as he,d as F,p as X,v as fe,e as b,g as _,n as g,a as N,s as Y,b as $,c as _e,t as z,j as pe,k as ge,m as ve,l as be,h as ke}from"../chunks/index.6d6e9cbf.js";import{U as ee,g as we,a as ye}from"../chunks/UserLink.0e350b0c.js";const Ee=async({params:a})=>{var c,i;const e=ne(le,"users"),s=ae(e,oe("username","==",a.username),se(1)),m=await re(s),p=(c=m.docs[0])==null?void 0:c.exists(),t=(i=m.docs[0])==null?void 0:i.data();if(!p)throw V(404,"that user does not exist!");if(!t.published)throw V(403,`The profile of @${t.username} is not public!`);return{username:t.username,photoURL:t.photoURL,bio:t.bio,links:t.links??[]}},xe=Object.freeze(Object.defineProperty({__proto__:null,load:Ee},Symbol.toStringTag,{value:"Module"})),j="src/routes/[username]/+page.svelte";function Z(a,e,s){const m=a.slice();return m[1]=e[s],m}function G(a){let e,s,m,p;const t=[a[1]];let c={};for(let u=0;u<t.length;u+=1)c=ce(c,t[u]);s=new ee({props:c,$$inline:!0});const i={c:function(){e=P("li"),pe(s.$$.fragment),m=x(),this.h()},l:function(d){e=R(d,"LI",{class:!0});var v=B(e);ge(s.$$.fragment,v),m=q(v),v.forEach(b),this.h()},h:function(){_(e,"class","my-2"),L(e,j,29,12,614)},m:function(d,v){N(d,e,v),ve(s,e,null),g(e,m),p=!0},p:function(d,v){const f=v&1?we(t,[ye(d[1])]):{};s.$set(f)},i:function(d){p||($(s.$$.fragment,d),p=!0)},o:function(d){z(s.$$.fragment,d),p=!1},d:function(d){d&&b(e),be(s)}};return F("SvelteRegisterBlock",{block:i,id:G.name,type:"each",source:"(26:8) {#each data.links as item}",ctx:a}),i}function H(a){let e,s,m,p,t,c,i,u=a[0].username+"",d,v,f,M,C,y,S=(a[0].bio??"no bio yet...")+"",O,I,w,k;document.title=e="@"+a[0].username+" Links";let E=X(a[0].links),o=[];for(let h=0;h<E.length;h+=1)o[h]=G(Z(a,E,h));const te=h=>z(o[h],1,1,()=>{o[h]=null}),J={c:function(){s=P("meta"),p=x(),t=P("main"),c=P("h1"),i=A("@"),d=A(u),v=x(),f=P("img"),C=x(),y=P("p"),O=A(S),I=x(),w=P("ul");for(let r=0;r<o.length;r+=1)o[r].c();this.h()},l:function(r){const l=ue("svelte-1yq7ltg",document.head);s=R(l,"META",{name:!0,content:!0}),l.forEach(b),p=q(r),t=R(r,"MAIN",{class:!0});var n=B(t);c=R(n,"H1",{class:!0});var U=B(c);i=D(U,"@"),d=D(U,u),U.forEach(b),v=q(n),f=R(n,"IMG",{src:!0,alt:!0,width:!0,class:!0}),C=q(n),y=R(n,"P",{class:!0});var K=B(y);O=D(K,S),K.forEach(b),I=q(n),w=R(n,"UL",{class:!0});var Q=B(w);for(let T=0;T<o.length;T+=1)o[T].l(Q);Q.forEach(b),n.forEach(b),this.h()},h:function(){_(s,"name","description"),_(s,"content",m=a[0].bio),L(s,j,9,4,162),_(c,"class","text-7xl text-purple-500"),L(c,j,15,4,277),W(f.src,M=a[0].photoURL??"/user.png")||_(f,"src",M),_(f,"alt","photoURL"),_(f,"width","256"),_(f,"class","mx-auto"),L(f,j,19,4,355),_(y,"class","text-xl my-8"),L(y,j,26,4,482),_(w,"class","list-none"),L(w,j,27,4,544),_(t,"class","prose text-center mx-auto mt-8"),L(t,j,13,0,226)},m:function(r,l){g(document.head,s),N(r,p,l),N(r,t,l),g(t,c),g(c,i),g(c,d),g(t,v),g(t,f),g(t,C),g(t,y),g(y,O),g(t,I),g(t,w);for(let n=0;n<o.length;n+=1)o[n]&&o[n].m(w,null);k=!0},p:function(r,[l]){if((!k||l&1)&&e!==(e="@"+r[0].username+" Links")&&(document.title=e),(!k||l&1&&m!==(m=r[0].bio))&&_(s,"content",m),(!k||l&1)&&u!==(u=r[0].username+"")&&Y(d,u),(!k||l&1&&!W(f.src,M=r[0].photoURL??"/user.png"))&&_(f,"src",M),(!k||l&1)&&S!==(S=(r[0].bio??"no bio yet...")+"")&&Y(O,S),l&1){E=X(r[0].links);let n;for(n=0;n<E.length;n+=1){const U=Z(r,E,n);o[n]?(o[n].p(U,l),$(o[n],1)):(o[n]=G(U),o[n].c(),$(o[n],1),o[n].m(w,null))}for(ke(),n=E.length;n<o.length;n+=1)te(n);_e()}},i:function(r){if(!k){for(let l=0;l<E.length;l+=1)$(o[l]);k=!0}},o:function(r){o=o.filter(Boolean);for(let l=0;l<o.length;l+=1)z(o[l]);k=!1},d:function(r){r&&(b(p),b(t)),b(s),me(o,r)}};return F("SvelteRegisterBlock",{block:J,id:H.name,type:"component",source:"",ctx:a}),J}function Pe(a,e,s){let{$$slots:m={},$$scope:p}=e;fe("Page",m,[]);let{data:t}=e;a.$$.on_mount.push(function(){t===void 0&&!("data"in e||a.$$.bound[a.$$.props.data])&&console.warn("<Page> was created without expected prop 'data'")});const c=["data"];return Object.keys(e).forEach(i=>{!~c.indexOf(i)&&i.slice(0,2)!=="$$"&&i!=="slot"&&console.warn(`<Page> was created with unknown prop '${i}'`)}),a.$$set=i=>{"data"in i&&s(0,t=i.data)},a.$capture_state=()=>({UserLink:ee,data:t}),a.$inject_state=i=>{"data"in i&&s(0,t=i.data)},e&&"$$inject"in e&&a.$inject_state(e.$$inject),[t]}class qe extends de{constructor(e){super(e),he(this,e,Pe,H,ie,{data:0}),F("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:H.name})}get data(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{qe as component,xe as universal};
