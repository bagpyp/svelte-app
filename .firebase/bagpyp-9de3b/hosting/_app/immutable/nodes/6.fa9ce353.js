import{w as K,F as Le,G as Se,s as Vt,H as Zt,e as kt,n as Ee,g as C,h as L,z as Z,k as S,i as T,c as V,d as A,A as $t,I as Et,u as Pe,q as Re,r as Ie,J as ce,l as tt,m as et,C as te,v as _t,p as pt,K as Be,L as De,y as je,M as ee,N as ht,D as Ue}from"../chunks/scheduler.fd6e2bc0.js";import{r as Oe,u as Te,w as Ne,x as Ve,S as At,i as Mt,d as M,v as xt,a as U,h as Ft,t as nt,c as zt,b as X,e as k,p as vt,y as ne,g as h,z as Ae,n as y,A as Q,B as Me,s as Pt,j as ue,k as fe,m as de,q as he,l as me}from"../chunks/index.f16fb1b7.js";import{p as wt}from"../chunks/stores.f8c1292f.js";import{A as xe}from"../chunks/AuthCheck.99a51e76.js";import{c as Fe}from"../chunks/index.40b40403.js";import{c as ft,a as Ct,u as Lt,j as se,Q as le,g as dt,m as oe,e as bt}from"../chunks/firebase.2e63ac87.js";import{w as ie}from"../chunks/index.a0ed9d66.js";function ze(n,t,e,o){if(!t)return K;const s=n.getBoundingClientRect();if(t.left===s.left&&t.right===s.right&&t.top===s.top&&t.bottom===s.bottom)return K;const{delay:r=0,duration:l=300,easing:c=Le,start:i=Oe()+r,end:a=i+l,tick:u=K,css:_}=e(n,{from:t,to:s},o);let g=!0,f=!1,d;function p(){_&&(d=Ne(n,0,1,l,r,c,_)),r||(f=!0)}function w(){_&&Ve(n,d),g=!1}return Te(O=>{if(!f&&O>=i&&(f=!0),f&&O>=a&&(u(1,0),w()),!g)return!1;if(f){const x=O-i,q=0+1*c(x/l);u(q,1-q)}return!0}),p(),u(0,1),w}function qe(n){const t=getComputedStyle(n);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:e,height:o}=t,s=n.getBoundingClientRect();n.style.position="absolute",n.style.width=e,n.style.height=o,Ge(n,s)}}function Ge(n,t){const e=n.getBoundingClientRect();if(t.left!==e.left||t.top!==e.top){const o=getComputedStyle(n),s=o.transform==="none"?"":o.transform;n.style.transform=`${s} translate(${t.left-e.left}px, ${t.top-e.top}px)`}}function He(n,t){const e={},o={},s={$$scope:1};let r=n.length;for(;r--;){const l=n[r],c=t[r];if(c){for(const i in l)i in c||(o[i]=1);for(const i in c)s[i]||(e[i]=c[i],s[i]=1);n[r]=c}else for(const i in l)s[i]=1}for(const l in o)l in e||(e[l]=void 0);return e}function Qe(n){return typeof n=="object"&&n!==null?n:{}}function _e(n,{from:t,to:e},o={}){const s=getComputedStyle(n),r=s.transform==="none"?"":s.transform,[l,c]=s.transformOrigin.split(" ").map(parseFloat),i=t.left+t.width*l/e.width-(e.left+l),a=t.top+t.height*c/e.height-(e.top+c),{delay:u=0,duration:_=f=>Math.sqrt(f)*120,easing:g=Fe}=o;return{delay:u,duration:Se(_)?_(Math.sqrt(i*i+a*a)):_,easing:g,css:(f,d)=>{const p=d*i,w=d*a,O=f+d*t.width/e.width,x=f+d*t.height/e.height;return`transform: ${r} translate(${p}px, ${w}px) scale(${O}, ${x});`}}}const qt="src/lib/components/SortableList.svelte";function gt(n,t,e){const o=n.slice();return o[9]=t[e],o[11]=e,o}const Je=n=>({item:n&1,index:n&1}),re=n=>({item:n[9],index:n[11]});function pe(n){let t,e="No items";const o={c:function(){t=C("p"),t.textContent=e,this.h()},l:function(r){t=L(r,"P",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-1jmwi8z"&&(t.textContent=e),this.h()},h:function(){h(t,"class","text-center my-12 text-lg font-bold"),S(t,qt,79,2,1704)},m:function(r,l){U(r,t,l)},p:K,i:K,o:K,d:function(r){r&&k(t)}};return M("SvelteRegisterBlock",{block:o,id:pe.name,type:"else",source:"(60:0) {:else}",ctx:n}),o}function be(n){let t,e=[],o=new Map,s,r=vt(n[0]);const l=i=>i[9].id;ne(n,r,gt,l);for(let i=0;i<r.length;i+=1){let a=gt(n,r,i),u=l(a);o.set(u,e[i]=Rt(u,a))}const c={c:function(){t=C("ul");for(let a=0;a<e.length;a+=1)e[a].c();this.h()},l:function(a){t=L(a,"UL",{class:!0});var u=T(t);for(let _=0;_<e.length;_+=1)e[_].l(u);u.forEach(k),this.h()},h:function(){h(t,"class","list-none p-0 flex flex-col items-center"),S(t,qt,60,2,1106)},m:function(a,u){U(a,t,u);for(let _=0;_<e.length;_+=1)e[_]&&e[_].m(t,null);s=!0},p:function(a,u){if(u&63){r=vt(a[0]),Ft();for(let _=0;_<e.length;_+=1)e[_].r();ne(a,r,gt,l),e=Ae(e,u,l,1,a,r,o,t,Me,Rt,null,gt);for(let _=0;_<e.length;_+=1)e[_].a();zt()}},i:function(a){if(!s){for(let u=0;u<r.length;u+=1)X(e[u]);s=!0}},o:function(a){for(let u=0;u<e.length;u+=1)nt(e[u]);s=!1},d:function(a){a&&k(t);for(let u=0;u<e.length;u+=1)e[u].d()}};return M("SvelteRegisterBlock",{block:c,id:be.name,type:"if",source:"(41:0) {#if list?.length}",ctx:n}),c}function Rt(n,t){let e,o,s,r,l,c=K,i,a,u;const _=t[6].default,g=Ee(_,t,t[5],re),f={key:n,first:null,c:function(){e=C("li"),g&&g.c(),o=V(),this.h()},l:function(p){e=L(p,"LI",{class:!0,"data-index":!0,"data-id":!0,draggable:!0});var w=T(e);g&&g.l(w),o=A(w),w.forEach(k),this.h()},h:function(){h(e,"class","border-2 border-dashed border-transparent p-2 transition-all max-w-md w-full s-bF1CfGpt5Wxa"),h(e,"data-index",s=t[11]),h(e,"data-id",r=t[9].id),h(e,"draggable","true"),$t(e,"over",t[9].id===t[1]),S(e,qt,62,6,1208),this.first=e},m:function(p,w){U(p,e,w),g&&g.m(e,null),y(e,o),i=!0,a||(u=[Q(e,"dragstart",ge,!1,!1,!1,!1),Q(e,"dragover",Et(t[2]),!1,!0,!1,!1),Q(e,"dragleave",t[3],!1,!1,!1,!1),Q(e,"drop",Et(t[4]),!1,!0,!1,!1)],a=!0)},p:function(p,w){t=p,g&&g.p&&(!i||w&33)&&Pe(g,_,t,t[5],i?Ie(_,t[5],w,Je):Re(t[5]),re),(!i||w&1&&s!==(s=t[11]))&&h(e,"data-index",s),(!i||w&1&&r!==(r=t[9].id))&&h(e,"data-id",r),(!i||w&3)&&$t(e,"over",t[9].id===t[1])},r:function(){l=e.getBoundingClientRect()},f:function(){qe(e),c()},a:function(){c(),c=ze(e,l,_e,{duration:300})},i:function(p){i||(X(g,p),i=!0)},o:function(p){nt(g,p),i=!1},d:function(p){p&&k(e),g&&g.d(p),a=!1,ce(u)}};return M("SvelteRegisterBlock",{block:f,id:Rt.name,type:"each",source:"(43:4) {#each list as item, index (item.id)}",ctx:t}),f}function It(n){let t,e,o,s;const r=[be,pe],l=[];function c(a,u){var _;return(_=a[0])!=null&&_.length?0:1}t=c(n),e=l[t]=r[t](n);const i={c:function(){e.c(),o=kt()},l:function(u){e.l(u),o=kt()},m:function(u,_){l[t].m(u,_),U(u,o,_),s=!0},p:function(u,[_]){let g=t;t=c(u),t===g?l[t].p(u,_):(Ft(),nt(l[g],1,1,()=>{l[g]=null}),zt(),e=l[t],e?e.p(u,_):(e=l[t]=r[t](u),e.c()),X(e,1),e.m(o.parentNode,o))},i:function(u){s||(X(e),s=!0)},o:function(u){nt(e),s=!1},d:function(u){u&&k(o),l[t].d(u)}};return M("SvelteRegisterBlock",{block:i,id:It.name,type:"component",source:"",ctx:n}),i}function at(n){return n.dataset.index?{...n.dataset}:at(n.parentNode)}function ge(n){var e;const t=at(n.target);(e=n.dataTransfer)==null||e.setData("source",t==null?void 0:t.index.toString())}function Ke(n,t,e){let{$$slots:o={},$$scope:s}=t;xt("SortableList",o,["default"]);let{list:r}=t,l=!1;const c=Zt();function i(f){var p;(p=f.target.dataset)==null||p.id;const d=at(f.target);e(1,l=(d==null?void 0:d.id)??!1)}function a(f){const d=at(f.target);l===d.id&&e(1,l=!1)}function u(f){var p;e(1,l=!1);const d=at(f.target);_({from:(p=f.dataTransfer)==null?void 0:p.getData("source"),to:d.index})}const _=({from:f,to:d})=>{const p=[...r];p[f]=[p[d],p[d]=p[f]][0],c("sort",p)};n.$$.on_mount.push(function(){r===void 0&&!("list"in t||n.$$.bound[n.$$.props.list])&&console.warn("<SortableList> was created without expected prop 'list'")});const g=["list"];return Object.keys(t).forEach(f=>{!~g.indexOf(f)&&f.slice(0,2)!=="$$"&&f!=="slot"&&console.warn(`<SortableList> was created with unknown prop '${f}'`)}),n.$$set=f=>{"list"in f&&e(0,r=f.list),"$$scope"in f&&e(5,s=f.$$scope)},n.$capture_state=()=>({flip:_e,createEventDispatcher:Zt,list:r,isOver:l,dispatch:c,getDraggedParent:at,onDragStart:ge,onDragOver:i,onDragLeave:a,onDrop:u,reorder:_}),n.$inject_state=f=>{"list"in f&&e(0,r=f.list),"isOver"in f&&e(1,l=f.isOver)},t&&"$$inject"in t&&n.$inject_state(t.$$inject),[r,l,i,a,u,s,o]}class ke extends At{constructor(t){super(t),Mt(this,t,Ke,It,Vt,{list:0}),M("SvelteRegisterComponent",{component:this,tagName:"SortableList",options:t,id:It.name})}get list(){throw new Error("<SortableList>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set list(t){throw new Error("<SortableList>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const St="src/lib/components/UserLink.svelte";function Bt(n){let t,e,o,s,r,l;const c={c:function(){t=C("a"),e=C("img"),s=V(),r=C("span"),l=tt(n[2]),this.h()},l:function(a){t=L(a,"A",{href:!0,class:!0});var u=T(t);e=L(u,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),s=A(u),r=L(u,"SPAN",{class:!0});var _=T(r);l=et(_,n[2]),_.forEach(k),u.forEach(k),this.h()},h:function(){te(e.src,o=`/${n[0]}.png`)||h(e,"src",o),h(e,"alt",n[0]),h(e,"width","32"),h(e,"height","32"),h(e,"class","w-8"),S(e,St,9,2,267),h(r,"class","text-lg text-white font-bold"),S(r,St,10,2,344),h(t,"href",n[1]),h(t,"class","stack w-full max-w-md text-center bg-base-300 flex justify-center items-center p-4 rounded-lg not-prose no-underline"),S(t,St,8,0,125)},m:function(a,u){U(a,t,u),y(t,e),y(t,s),y(t,r),y(r,l)},p:function(a,[u]){u&1&&!te(e.src,o=`/${a[0]}.png`)&&h(e,"src",o),u&1&&h(e,"alt",a[0]),u&4&&Pt(l,a[2]),u&2&&h(t,"href",a[1])},i:K,o:K,d:function(a){a&&k(t)}};return M("SvelteRegisterBlock",{block:c,id:Bt.name,type:"component",source:"",ctx:n}),c}function We(n,t,e){let{$$slots:o={},$$scope:s}=t;xt("UserLink",o,[]);let{icon:r="default"}=t,{url:l="foo"}=t,{title:c="some cool title"}=t;const i=["icon","url","title"];return Object.keys(t).forEach(a=>{!~i.indexOf(a)&&a.slice(0,2)!=="$$"&&a!=="slot"&&console.warn(`<UserLink> was created with unknown prop '${a}'`)}),n.$$set=a=>{"icon"in a&&e(0,r=a.icon),"url"in a&&e(1,l=a.url),"title"in a&&e(2,c=a.title)},n.$capture_state=()=>({icon:r,url:l,title:c}),n.$inject_state=a=>{"icon"in a&&e(0,r=a.icon),"url"in a&&e(1,l=a.url),"title"in a&&e(2,c=a.title)},t&&"$$inject"in t&&n.$inject_state(t.$$inject),[r,l,c]}class ve extends At{constructor(t){super(t),Mt(this,t,We,Bt,Vt,{icon:0,url:1,title:2}),M("SvelteRegisterComponent",{component:this,tagName:"UserLink",options:t,id:Bt.name})}get icon(){throw new Error("<UserLink>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set icon(t){throw new Error("<UserLink>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get url(){throw new Error("<UserLink>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set url(t){throw new Error("<UserLink>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get title(){throw new Error("<UserLink>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set title(t){throw new Error("<UserLink>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const B="src/routes/[username]/edit/+page.svelte";function ae(n,t,e){const o=n.slice();return o[21]=t[e],o}function Dt(n){var Jt,Kt,Wt;let t,e="Edit your Profile",o,s,r,l,c,i,a=((Jt=n[5])==null?void 0:Jt.username)+"",u,_,g,f,d,p="Change photo",w,O,x,q,F,E,R,j,D,W=(Kt=n[5])!=null&&Kt.published?"Public profile":"Private profile",N,m,v,I,z,H,$,it,Y,yt,Gt;H=new ke({props:{list:(Wt=n[5])==null?void 0:Wt.links,$$slots:{default:[ye,({item:G,index:b})=>({24:G,25:b}),({item:G,index:b})=>(G?16777216:0)|(b?33554432:0)]},$$scope:{ctx:n}},$$inline:!0}),H.$on("sort",n[9]);function Ht(G,b){return G[3]?Ce:we}let mt=Ht(n),J=mt(n);const Qt={c:function(){t=C("h1"),t.textContent=e,o=V(),s=C("div"),r=C("p"),l=tt(`Profile Link:
          `),c=C("a"),i=tt("https://kung.foo/"),u=tt(a),g=V(),f=C("div"),d=C("a"),d.textContent=p,w=V(),O=C("a"),x=tt("Edit Bio"),F=V(),E=C("form"),R=C("label"),j=C("span"),D=C("div"),N=tt(W),m=V(),v=C("input"),z=V(),ue(H.$$.fragment),$=V(),J.c(),it=kt(),this.h()},l:function(b){t=L(b,"H1",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-zzls1r"&&(t.textContent=e),o=A(b),s=L(b,"DIV",{class:!0});var P=T(s);r=L(P,"P",{});var st=T(r);l=et(st,`Profile Link:
          `),c=L(st,"A",{href:!0,class:!0});var rt=T(c);i=et(rt,"https://kung.foo/"),u=et(rt,a),rt.forEach(k),st.forEach(k),P.forEach(k),g=A(b),f=L(b,"DIV",{class:!0});var lt=T(f);d=L(lt,"A",{class:!0,href:!0,"data-svelte-h":!0}),Z(d)!=="svelte-1hnlagx"&&(d.textContent=p),w=A(lt),O=L(lt,"A",{class:!0,href:!0});var ct=T(O);x=et(ct,"Edit Bio"),ct.forEach(k),lt.forEach(k),F=A(b),E=L(b,"FORM",{class:!0});var ut=T(E);R=L(ut,"LABEL",{class:!0});var ot=T(R);j=L(ot,"SPAN",{class:!0});var Yt=T(j);D=L(Yt,"DIV",{class:!0,"data-tip":!0});var Xt=T(D);N=et(Xt,W),Xt.forEach(k),Yt.forEach(k),m=A(ot),v=L(ot,"INPUT",{type:!0,class:!0}),ot.forEach(k),ut.forEach(k),z=A(b),fe(H.$$.fragment,b),$=A(b),J.l(b),it=kt(),this.h()},h:function(){var b,P;h(t,"class","mx-2 text-2xl font-bold mt-8 mb-4 text-center"),S(t,B,83,6,1781),h(c,"href",_=`/${(b=n[5])==null?void 0:b.username}`),h(c,"class","link link-accent"),S(c,B,90,10,1964),S(r,B,88,8,1926),h(s,"class","text-center mb-8"),S(s,B,87,6,1887),h(d,"class","btn btn-outline btn-xs"),h(d,"href","/login/photo"),S(d,B,100,8,2201),h(O,"class","btn btn-outline btn-xs"),h(O,"href",q=`/${n[5].username}/bio`),S(O,B,101,8,2280),h(f,"class","text-center my-4"),S(f,B,99,6,2162),h(D,"class","tooltip group-hover:tooltip-open"),h(D,"data-tip","If public, the world can see your profile"),S(D,B,107,12,2543),h(j,"class","label-text mr-6"),S(j,B,106,10,2500),h(v,"type","checkbox"),h(v,"class","toggle toggle-success"),v.checked=I=(P=n[5])==null?void 0:P.published,S(v,B,114,10,2807),h(R,"class","label cursor-pointer flex items-start justify-center"),S(R,B,105,8,2421),h(E,"class","form-control"),S(E,B,104,6,2385)},m:function(b,P){U(b,t,P),U(b,o,P),U(b,s,P),y(s,r),y(r,l),y(r,c),y(c,i),y(c,u),U(b,g,P),U(b,f,P),y(f,d),y(f,w),y(f,O),y(O,x),U(b,F,P),U(b,E,P),y(E,R),y(R,j),y(j,D),y(D,N),y(R,m),y(R,v),U(b,z,P),de(H,b,P),U(b,$,P),J.m(b,P),U(b,it,P),Y=!0,yt||(Gt=Q(v,"change",n[12],!1,!1,!1,!1),yt=!0)},p:function(b,P){var rt,lt,ct,ut,ot;(!Y||P&32)&&a!==(a=((rt=b[5])==null?void 0:rt.username)+"")&&Pt(u,a),(!Y||P&32&&_!==(_=`/${(lt=b[5])==null?void 0:lt.username}`))&&h(c,"href",_),(!Y||P&32&&q!==(q=`/${b[5].username}/bio`))&&h(O,"href",q),(!Y||P&32)&&W!==(W=(ct=b[5])!=null&&ct.published?"Public profile":"Private profile")&&Pt(N,W),(!Y||P&32&&I!==(I=(ut=b[5])==null?void 0:ut.published))&&he(v,"checked",I);const st={};P&32&&(st.list=(ot=b[5])==null?void 0:ot.links),P&83886080&&(st.$$scope={dirty:P,ctx:b}),H.$set(st),mt===(mt=Ht(b))&&J?J.p(b,P):(J.d(1),J=mt(b),J&&(J.c(),J.m(it.parentNode,it)))},i:function(b){Y||(X(H.$$.fragment,b),Y=!0)},o:function(b){nt(H.$$.fragment,b),Y=!1},d:function(b){b&&(k(t),k(o),k(s),k(g),k(f),k(F),k(E),k(z),k($),k(it)),me(H,b),J.d(b),yt=!1,Gt()}};return M("SvelteRegisterBlock",{block:Qt,id:Dt.name,type:"if",source:"(74:4) {#if $userData?.username == $page.params.username}",ctx:n}),Qt}function ye(n){let t,e,o,s,r="Delete",l,c,i;const a=[n[24]];let u={};for(let f=0;f<a.length;f+=1)u=Be(u,a[f]);e=new ve({props:u,$$inline:!0});function _(){return n[14](n[24])}const g={c:function(){t=C("div"),ue(e.$$.fragment),o=V(),s=C("button"),s.textContent=r,this.h()},l:function(d){t=L(d,"DIV",{class:!0});var p=T(t);fe(e.$$.fragment,p),o=A(p),s=L(p,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(s)!=="svelte-1n5cbwc"&&(s.textContent=r),p.forEach(k),this.h()},h:function(){h(s,"class","btn btn-xs btn-error invisible group-hover:visible transition-all absolute -right-6 bottom-10"),S(s,B,126,10,3181),h(t,"class","group relative"),S(t,B,124,8,3109)},m:function(d,p){U(d,t,p),de(e,t,null),y(t,o),y(t,s),l=!0,c||(i=Q(s,"click",_,!1,!1,!1,!1),c=!0)},p:function(d,p){n=d;const w=p&16777216?He(a,[Qe(n[24])]):{};e.$set(w)},i:function(d){l||(X(e.$$.fragment,d),l=!0)},o:function(d){nt(e.$$.fragment,d),l=!1},d:function(d){d&&k(t),me(e),c=!1,i()}};return M("SvelteRegisterBlock",{block:g,id:ye.name,type:"slot",source:"(115:6) <SortableList list={$userData?.links} on:sort={sortList} let:item let:index>",ctx:n}),g}function we(n){let t,e="Add a Link",o,s;const r={c:function(){t=C("button"),t.textContent=e,this.h()},l:function(c){t=L(c,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-1l5hg7j"&&(t.textContent=e),this.h()},h:function(){h(t,"class","btn btn-outline btn-info block mx-auto my-4"),S(t,B,183,8,4898)},m:function(c,i){U(c,t,i),o||(s=Q(t,"click",n[18],!1,!1,!1,!1),o=!0)},p:K,d:function(c){c&&k(t),o=!1,s()}};return M("SvelteRegisterBlock",{block:r,id:we.name,type:"else",source:"(174:6) {:else}",ctx:n}),r}function Ce(n){let t,e,o,s,r,l,c,i,a,u,_,g,f,d,p,w,O="Cancel",x,q,F=vt(n[7]),E=[];for(let N=0;N<F.length;N+=1)E[N]=jt(ae(n,F,N));let R=!n[0]&&Ut(n),j=!n[1]&&Ot(n),D=n[4]&&Tt(n);const W={c:function(){t=C("form"),e=C("select");for(let m=0;m<E.length;m+=1)E[m].c();o=V(),s=C("input"),r=V(),l=C("input"),c=V(),i=C("div"),R&&R.c(),a=V(),j&&j.c(),u=V(),D&&D.c(),_=V(),g=C("button"),f=tt("Add Link"),p=V(),w=C("button"),w.textContent=O,this.h()},l:function(m){t=L(m,"FORM",{class:!0});var v=T(t);e=L(v,"SELECT",{name:!0,class:!0});var I=T(e);for(let $=0;$<E.length;$+=1)E[$].l(I);I.forEach(k),o=A(v),s=L(v,"INPUT",{name:!0,type:!0,placeholder:!0,class:!0}),r=A(v),l=L(v,"INPUT",{name:!0,type:!0,placeholder:!0,class:!0}),c=A(v),i=L(v,"DIV",{class:!0});var z=T(i);R&&R.l(z),a=A(z),j&&j.l(z),u=A(z),D&&D.l(z),z.forEach(k),_=A(v),g=L(v,"BUTTON",{type:!0,class:!0});var H=T(g);f=et(H,"Add Link"),H.forEach(k),p=A(v),w=L(v,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Z(w)!=="svelte-ptz3kb"&&(w.textContent=O),v.forEach(k),this.h()},h:function(){h(e,"name","icon"),h(e,"class","select select-sm"),n[2].icon===void 0&&je(()=>n[15].call(e)),S(e,B,138,10,3586),h(s,"name","title"),h(s,"type","text"),h(s,"placeholder","Title"),h(s,"class","input input-sm"),S(s,B,148,10,3857),h(l,"name","url"),h(l,"type","text"),h(l,"placeholder","URL"),h(l,"class","input input-sm"),S(l,B,155,10,4044),h(i,"class","my-4"),S(i,B,162,10,4225),g.disabled=d=!n[4],h(g,"type","submit"),h(g,"class","btn btn-success block"),S(g,B,174,10,4622),h(w,"type","button"),h(w,"class","btn btn-xs my-4"),S(w,B,180,10,4776),h(t,"class","bg-base-200 p-6 w-full mx-auto rounded-xl"),S(t,B,134,8,3455)},m:function(m,v){U(m,t,v),y(t,e);for(let I=0;I<E.length;I+=1)E[I]&&E[I].m(e,null);ee(e,n[2].icon,!0),y(t,o),y(t,s),ht(s,n[2].title),y(t,r),y(t,l),ht(l,n[2].url),y(t,c),y(t,i),R&&R.m(i,null),y(i,a),j&&j.m(i,null),y(i,u),D&&D.m(i,null),y(t,_),y(t,g),y(g,f),y(t,p),y(t,w),x||(q=[Q(e,"change",n[15]),Q(s,"input",n[16]),Q(l,"input",n[17]),Q(w,"click",n[13],!1,!1,!1,!1),Q(t,"submit",Et(n[10]),!1,!0,!1,!1)],x=!0)},p:function(m,v){if(v&128){F=vt(m[7]);let I;for(I=0;I<F.length;I+=1){const z=ae(m,F,I);E[I]?E[I].p(z,v):(E[I]=jt(z),E[I].c(),E[I].m(e,null))}for(;I<E.length;I+=1)E[I].d(1);E.length=F.length}v&132&&ee(e,m[2].icon),v&132&&s.value!==m[2].title&&ht(s,m[2].title),v&132&&l.value!==m[2].url&&ht(l,m[2].url),m[0]?R&&(R.d(1),R=null):R||(R=Ut(m),R.c(),R.m(i,a)),m[1]?j&&(j.d(1),j=null):j||(j=Ot(m),j.c(),j.m(i,u)),m[4]?D||(D=Tt(m),D.c(),D.m(i,null)):D&&(D.d(1),D=null),v&16&&d!==(d=!m[4])&&he(g,"disabled",d)},d:function(m){m&&k(t),Ue(E,m),R&&R.d(),j&&j.d(),D&&D.d(),x=!1,ce(q)}};return M("SvelteRegisterBlock",{block:W,id:Ce.name,type:"if",source:"(125:6) {#if showForm}",ctx:n}),W}function jt(n){let t,e=n[21]+"",o;const s={c:function(){t=C("option"),o=tt(e),this.h()},l:function(l){t=L(l,"OPTION",{});var c=T(t);o=et(c,e),c.forEach(k),this.h()},h:function(){t.__value=n[21].toLowerCase(),ht(t,t.__value),S(t,B,145,14,3756)},m:function(l,c){U(l,t,c),y(t,o)},p:K,d:function(l){l&&k(t)}};return M("SvelteRegisterBlock",{block:s,id:jt.name,type:"each",source:"(136:12) {#each icons as icon}",ctx:n}),s}function Ut(n){let t,e="Must have valid title";const o={c:function(){t=C("p"),t.textContent=e,this.h()},l:function(r){t=L(r,"P",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-1clkdjx"&&(t.textContent=e),this.h()},h:function(){h(t,"class","text-error text-xs"),S(t,B,164,14,4290)},m:function(r,l){U(r,t,l)},d:function(r){r&&k(t)}};return M("SvelteRegisterBlock",{block:o,id:Ut.name,type:"if",source:"(155:12) {#if !titleIsValid}",ctx:n}),o}function Ot(n){let t,e="Must have a valid URL";const o={c:function(){t=C("p"),t.textContent=e,this.h()},l:function(r){t=L(r,"P",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-ckpz19"&&(t.textContent=e),this.h()},h:function(){h(t,"class","text-error text-xs"),S(t,B,167,14,4408)},m:function(r,l){U(r,t,l)},d:function(r){r&&k(t)}};return M("SvelteRegisterBlock",{block:o,id:Ot.name,type:"if",source:"(158:12) {#if !urlIsValid}",ctx:n}),o}function Tt(n){let t,e="Looks good!";const o={c:function(){t=C("p"),t.textContent=e,this.h()},l:function(r){t=L(r,"P",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-18u4utf"&&(t.textContent=e),this.h()},h:function(){h(t,"class","text-success text-xs"),S(t,B,170,14,4526)},m:function(r,l){U(r,t,l)},d:function(r){r&&k(t)}};return M("SvelteRegisterBlock",{block:o,id:Tt.name,type:"if",source:"(161:12) {#if formIsValid}",ctx:n}),o}function Nt(n){var r;let t,e,o=((r=n[5])==null?void 0:r.username)==n[6].params.username&&Dt(n);const s={c:function(){t=C("main"),o&&o.c(),this.h()},l:function(c){t=L(c,"MAIN",{class:!0});var i=T(t);o&&o.l(i),i.forEach(k),this.h()},h:function(){h(t,"class","max-w-xl mx-auto"),S(t,B,81,2,1688)},m:function(c,i){U(c,t,i),o&&o.m(t,null),e=!0},p:function(c,[i]){var a;((a=c[5])==null?void 0:a.username)==c[6].params.username?o?(o.p(c,i),i&96&&X(o,1)):(o=Dt(c),o.c(),X(o,1),o.m(t,null)):o&&(Ft(),nt(o,1,1,()=>{o=null}),zt())},i:function(c){e||(X(o),e=!0)},o:function(c){nt(o),e=!1},d:function(c){c&&k(t),o&&o.d()}};return M("SvelteRegisterBlock",{block:s,id:Nt.name,type:"component",source:"",ctx:n}),s}function Ye(n,t,e){let o,s,r,l,c,i,a;_t(Ct,"userData"),pt(n,Ct,m=>e(5,l=m)),_t(Lt,"user"),pt(n,Lt,m=>e(19,c=m)),_t(wt,"page"),pt(n,wt,m=>e(6,a=m));let{$$slots:u={},$$scope:_}=t;xt("Page",u,[]);const g=["Twitter","YouTube","TikTok","LinkedIn","GitHub","Custom"],f={icon:"custom",title:"",url:"https://"},d=ie(f);_t(d,"formData"),pt(n,d,m=>e(2,i=m));let p=!1;function w(m){const v=m.detail,I=dt(ft,"users",c.uid);oe(I,{links:v},{merge:!0})}async function O(m){const v=dt(ft,"users",c.uid);await bt(v,{links:le({...i,id:Date.now().toString()})}),d.set({icon:"",title:"",url:""}),e(3,p=!1)}async function x(m){const v=dt(ft,"users",c.uid);await bt(v,{links:se(m)})}async function q(m){const v=dt(ft,"users",c.uid);await bt(v,{published:!(l!=null&&l.published)})}function F(){d.set(f),e(3,p=!1)}const E=[];Object.keys(t).forEach(m=>{!~E.indexOf(m)&&m.slice(0,2)!=="$$"&&m!=="slot"&&console.warn(`<Page> was created with unknown prop '${m}'`)});const R=m=>x(m);function j(){i.icon=De(this),d.set(i),e(7,g)}function D(){i.title=this.value,d.set(i),e(7,g)}function W(){i.url=this.value,d.set(i),e(7,g)}const N=()=>e(3,p=!0);return n.$capture_state=()=>({page:wt,AuthCheck:xe,SortableList:ke,UserLink:ve,db:ft,userData:Ct,user:Lt,arrayRemove:se,arrayUnion:le,doc:dt,setDoc:oe,updateDoc:bt,writable:ie,icons:g,formDefaults:f,formData:d,showForm:p,sortList:w,addLink:O,deleteLink:x,toggleProfileStatus:q,cancelLink:F,titleIsValid:s,urlIsValid:o,formIsValid:r,$userData:l,$user:c,$formData:i,$page:a}),n.$inject_state=m=>{"showForm"in m&&e(3,p=m.showForm),"titleIsValid"in m&&e(0,s=m.titleIsValid),"urlIsValid"in m&&e(1,o=m.urlIsValid),"formIsValid"in m&&e(4,r=m.formIsValid)},t&&"$$inject"in t&&n.$inject_state(t.$$inject),n.$$.update=()=>{n.$$.dirty&4&&e(1,o=i.url.match(/^(ftp|http|https):\/\/[^ "]+$/)),n.$$.dirty&4&&e(0,s=i.title.length<20&&i.title.length>0),n.$$.dirty&3&&e(4,r=o&&s)},[s,o,i,p,r,l,a,g,d,w,O,x,q,F,R,j,D,W,N]}class ln extends At{constructor(t){super(t),Mt(this,t,Ye,Nt,Vt,{}),M("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:Nt.name})}}export{ln as component};
