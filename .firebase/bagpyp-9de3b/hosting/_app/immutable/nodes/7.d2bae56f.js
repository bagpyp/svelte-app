import{s as L,v as U,p as z,g as v,c as P,e as R,h as g,z as x,d as N,k as b,w as $,l as G,i as J,m as W}from"../chunks/scheduler.fd6e2bc0.js";import{S as Y,i as F,d as S,v as K,a as m,e as h,g as w,A,n as j,s as M}from"../chunks/index.f16fb1b7.js";import{f as C,u as T,G as I,s as q,h as O}from"../chunks/firebase.2e63ac87.js";const y="src/routes/login/+page.svelte";function D(c){let t,r="Sign in with Google",i,o;const u={c:function(){t=v("button"),t.textContent=r,this.h()},l:function(s){t=g(s,"BUTTON",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-12721gk"&&(t.textContent=r),this.h()},h:function(){w(t,"class","btn btn-primary"),b(t,y,34,4,956)},m:function(s,f){m(s,t,f),i||(o=A(t,"click",c[1],!1,!1,!1,!1),i=!0)},p:$,d:function(s){s&&h(t),i=!1,o()}};return S("SvelteRegisterBlock",{block:u,id:D.name,type:"else",source:"(28:0) {:else}",ctx:c}),u}function H(c){let t,r,i=c[0].displayName+"",o,u,n,s="You are logged in",f,a,e="Sign out",d,k;const E={c:function(){t=v("h2"),r=G("Welcome, "),o=G(i),u=P(),n=v("p"),n.textContent=s,f=P(),a=v("button"),a.textContent=e,this.h()},l:function(l){t=g(l,"H2",{class:!0});var p=J(t);r=W(p,"Welcome, "),o=W(p,i),p.forEach(h),u=N(l),n=g(l,"P",{class:!0,"data-svelte-h":!0}),x(n)!=="svelte-1958qcl"&&(n.textContent=s),f=N(l),a=g(l,"BUTTON",{class:!0,"data-svelte-h":!0}),x(a)!=="svelte-x675jk"&&(a.textContent=e),this.h()},h:function(){w(t,"class","card-title"),b(t,y,30,4,741),w(n,"class","text-center text-success"),b(n,y,31,4,802),w(a,"class","btn btn-danger"),b(a,y,32,4,864)},m:function(l,p){m(l,t,p),j(t,r),j(t,o),m(l,u,p),m(l,n,p),m(l,f,p),m(l,a,p),d||(k=A(a,"click",c[2],!1,!1,!1,!1),d=!0)},p:function(l,p){p&1&&i!==(i=l[0].displayName+"")&&M(o,i)},d:function(l){l&&(h(t),h(u),h(n),h(f),h(a)),d=!1,k()}};return S("SvelteRegisterBlock",{block:E,id:H.name,type:"if",source:"(24:0) {#if $user}",ctx:c}),E}function B(c){let t,r="Login",i,o;function u(a,e){return a[0]?H:D}let n=u(c),s=n(c);const f={c:function(){t=v("h2"),t.textContent=r,i=P(),s.c(),o=R(),this.h()},l:function(e){t=g(e,"H2",{"data-svelte-h":!0}),x(t)!=="svelte-bhb3ah"&&(t.textContent=r),i=N(e),s.l(e),o=R(),this.h()},h:function(){b(t,y,27,0,709)},m:function(e,d){m(e,t,d),m(e,i,d),s.m(e,d),m(e,o,d)},p:function(e,[d]){n===(n=u(e))&&s?s.p(e,d):(s.d(1),s=n(e),s&&(s.c(),s.m(o.parentNode,o)))},i:$,o:$,d:function(e){e&&(h(t),h(i),h(o)),s.d(e)}};return S("SvelteRegisterBlock",{block:f,id:B.name,type:"component",source:"",ctx:c}),f}function Q(c,t,r){let i;U(T,"user"),z(c,T,e=>r(0,i=e));let{$$slots:o={},$$scope:u}=t;K("Page",o,[]);async function n(){const e=new I,k=await(await q(C,e)).user.getIdToken();await fetch("/api/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:k})})}async function s(){await fetch("/api/signin",{method:"DELETE"}),await O(C)}const f=[];Object.keys(t).forEach(e=>{!~f.indexOf(e)&&e.slice(0,2)!=="$$"&&e!=="slot"&&console.warn(`<Page> was created with unknown prop '${e}'`)});const a=()=>O(C);return c.$capture_state=()=>({auth:C,user:T,GoogleAuthProvider:I,signInWithPopup:q,signOut:O,signInWithGoogle:n,signOutSSR:s,$user:i}),[i,n,a]}class tt extends Y{constructor(t){super(t),F(this,t,Q,B,L,{}),S("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:B.name})}}export{tt as component};
